<svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 739.87109375 1149.578125" style="max-width: 739.87109375px;" class="flowchart" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-diagram-mermaid-1gq0vsc"><style>#mermaid-diagram-mermaid-1gq0vsc{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#000000;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-diagram-mermaid-1gq0vsc .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-diagram-mermaid-1gq0vsc .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-diagram-mermaid-1gq0vsc .error-icon{fill:#552222;}#mermaid-diagram-mermaid-1gq0vsc .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-mermaid-1gq0vsc .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-mermaid-1gq0vsc .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-mermaid-1gq0vsc .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-mermaid-1gq0vsc .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-mermaid-1gq0vsc .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-mermaid-1gq0vsc .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-mermaid-1gq0vsc .marker{fill:#666;stroke:#666;}#mermaid-diagram-mermaid-1gq0vsc .marker.cross{stroke:#666;}#mermaid-diagram-mermaid-1gq0vsc svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-diagram-mermaid-1gq0vsc p{margin:0;}#mermaid-diagram-mermaid-1gq0vsc .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#000000;}#mermaid-diagram-mermaid-1gq0vsc .cluster-label text{fill:#333;}#mermaid-diagram-mermaid-1gq0vsc .cluster-label span{color:#333;}#mermaid-diagram-mermaid-1gq0vsc .cluster-label span p{background-color:transparent;}#mermaid-diagram-mermaid-1gq0vsc .label text,#mermaid-diagram-mermaid-1gq0vsc span{fill:#000000;color:#000000;}#mermaid-diagram-mermaid-1gq0vsc .node rect,#mermaid-diagram-mermaid-1gq0vsc .node circle,#mermaid-diagram-mermaid-1gq0vsc .node ellipse,#mermaid-diagram-mermaid-1gq0vsc .node polygon,#mermaid-diagram-mermaid-1gq0vsc .node path{fill:#eee;stroke:#999;stroke-width:1px;}#mermaid-diagram-mermaid-1gq0vsc .rough-node .label text,#mermaid-diagram-mermaid-1gq0vsc .node .label text,#mermaid-diagram-mermaid-1gq0vsc .image-shape .label,#mermaid-diagram-mermaid-1gq0vsc .icon-shape .label{text-anchor:middle;}#mermaid-diagram-mermaid-1gq0vsc .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-diagram-mermaid-1gq0vsc .rough-node .label,#mermaid-diagram-mermaid-1gq0vsc .node .label,#mermaid-diagram-mermaid-1gq0vsc .image-shape .label,#mermaid-diagram-mermaid-1gq0vsc .icon-shape .label{text-align:center;}#mermaid-diagram-mermaid-1gq0vsc .node.clickable{cursor:pointer;}#mermaid-diagram-mermaid-1gq0vsc .root .anchor path{fill:#666!important;stroke-width:0;stroke:#666;}#mermaid-diagram-mermaid-1gq0vsc .arrowheadPath{fill:#333333;}#mermaid-diagram-mermaid-1gq0vsc .edgePath .path{stroke:#666;stroke-width:2.0px;}#mermaid-diagram-mermaid-1gq0vsc .flowchart-link{stroke:#666;fill:none;}#mermaid-diagram-mermaid-1gq0vsc .edgeLabel{background-color:white;text-align:center;}#mermaid-diagram-mermaid-1gq0vsc .edgeLabel p{background-color:white;}#mermaid-diagram-mermaid-1gq0vsc .edgeLabel rect{opacity:0.5;background-color:white;fill:white;}#mermaid-diagram-mermaid-1gq0vsc .labelBkg{background-color:rgba(255, 255, 255, 0.5);}#mermaid-diagram-mermaid-1gq0vsc .cluster rect{fill:hsl(0, 0%, 98.9215686275%);stroke:#707070;stroke-width:1px;}#mermaid-diagram-mermaid-1gq0vsc .cluster text{fill:#333;}#mermaid-diagram-mermaid-1gq0vsc .cluster span{color:#333;}#mermaid-diagram-mermaid-1gq0vsc div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(-160, 0%, 93.3333333333%);border:1px solid #707070;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-diagram-mermaid-1gq0vsc .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#000000;}#mermaid-diagram-mermaid-1gq0vsc rect.text{fill:none;stroke-width:0;}#mermaid-diagram-mermaid-1gq0vsc .icon-shape,#mermaid-diagram-mermaid-1gq0vsc .image-shape{background-color:white;text-align:center;}#mermaid-diagram-mermaid-1gq0vsc .icon-shape p,#mermaid-diagram-mermaid-1gq0vsc .image-shape p{background-color:white;padding:2px;}#mermaid-diagram-mermaid-1gq0vsc .icon-shape rect,#mermaid-diagram-mermaid-1gq0vsc .image-shape rect{opacity:0.5;background-color:white;fill:white;}#mermaid-diagram-mermaid-1gq0vsc :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_A_B_0" d="M221.734,62L221.734,66.167C221.734,70.333,221.734,78.667,221.805,86.417C221.875,94.167,222.015,101.334,222.086,104.917L222.156,108.501"></path><path marker-end="url(#mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_C_0" d="M170.587,298.431L159.139,313.122C147.691,327.813,124.795,357.196,113.347,377.387C101.898,397.578,101.898,408.578,101.898,414.078L101.898,419.578"></path><path marker-end="url(#mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_B_D_0" d="M273.881,298.431L285.163,313.122C296.444,327.813,319.007,357.196,330.289,377.387C341.57,397.578,341.57,408.578,341.57,414.078L341.57,419.578"></path><path marker-end="url(#mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_E_0" d="M281.475,477.578L267.749,483.745C254.023,489.911,226.572,502.245,212.847,519.078C199.121,535.911,199.121,557.245,199.121,578.578C199.121,599.911,199.121,621.245,199.121,644.578C199.121,667.911,199.121,693.245,199.121,718.578C199.121,743.911,199.121,769.245,199.121,794.578C199.121,819.911,199.121,845.245,199.121,868.578C199.121,891.911,199.121,913.245,207.787,927.805C216.453,942.365,233.785,950.152,242.451,954.045L251.117,957.939"></path><path marker-end="url(#mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_D_F_0" d="M376.157,477.578L384.057,483.745C391.957,489.911,407.756,502.245,415.655,513.911C423.555,525.578,423.555,536.578,423.555,542.078L423.555,547.578"></path><path marker-end="url(#mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_E_0" d="M373.296,605.578L361.817,611.745C350.338,617.911,327.38,630.245,315.901,649.078C304.422,667.911,304.422,693.245,304.422,718.578C304.422,743.911,304.422,769.245,304.422,794.578C304.422,819.911,304.422,845.245,304.422,868.578C304.422,891.911,304.422,913.245,306.506,927.502C308.59,941.758,312.757,948.938,314.841,952.529L316.925,956.119"></path><path marker-end="url(#mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_F_G_0" d="M458.359,605.578L466.309,611.745C474.258,617.911,490.156,630.245,498.105,641.911C506.055,653.578,506.055,664.578,506.055,670.078L506.055,675.578"></path><path marker-end="url(#mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_E_0" d="M456.886,757.578L449.111,763.745C441.337,769.911,425.787,782.245,418.013,801.078C410.238,819.911,410.238,845.245,410.238,868.578C410.238,891.911,410.238,913.245,406.255,927.624C402.273,942.002,394.307,949.427,390.324,953.139L386.341,956.851"></path><path marker-end="url(#mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_G_H_0" d="M555.224,757.578L562.998,763.745C570.773,769.911,586.322,782.245,594.097,793.911C601.871,805.578,601.871,816.578,601.871,822.078L601.871,827.578"></path><path marker-end="url(#mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_H_E_0" d="M601.871,909.578L601.871,913.745C601.871,917.911,601.871,926.245,580.802,935.592C559.732,944.939,517.593,955.299,496.524,960.48L475.455,965.66"></path><path marker-end="url(#mermaid-diagram-mermaid-1gq0vsc_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_E_I_0" d="M341.57,1037.578L341.57,1041.745C341.57,1045.911,341.57,1054.245,341.57,1061.911C341.57,1069.578,341.57,1076.578,341.57,1080.078L341.57,1083.578"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g transform="translate(101.8984375, 386.578125)" class="edgeLabel"><g transform="translate(-11.1796875, -12)" class="label"><foreignObject height="24" width="22.359375"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Yes</p></span></div></foreignObject></g></g><g transform="translate(341.5703125, 386.578125)" class="edgeLabel"><g transform="translate(-9.3046875, -12)" class="label"><foreignObject height="24" width="18.609375"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>No</p></span></div></foreignObject></g></g><g transform="translate(199.12109375, 718.578125)" class="edgeLabel"><g transform="translate(-26.6328125, -12)" class="label"><foreignObject height="24" width="53.265625"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Success</p></span></div></foreignObject></g></g><g transform="translate(423.5546875, 514.578125)" class="edgeLabel"><g transform="translate(-12.84375, -12)" class="label"><foreignObject height="24" width="25.6875"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Fail</p></span></div></foreignObject></g></g><g transform="translate(304.421875, 794.578125)" class="edgeLabel"><g transform="translate(-26.6328125, -12)" class="label"><foreignObject height="24" width="53.265625"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Success</p></span></div></foreignObject></g></g><g transform="translate(506.0546875, 642.578125)" class="edgeLabel"><g transform="translate(-12.84375, -12)" class="label"><foreignObject height="24" width="25.6875"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Fail</p></span></div></foreignObject></g></g><g transform="translate(410.23828125, 870.578125)" class="edgeLabel"><g transform="translate(-26.6328125, -12)" class="label"><foreignObject height="24" width="53.265625"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Success</p></span></div></foreignObject></g></g><g transform="translate(601.87109375, 794.578125)" class="edgeLabel"><g transform="translate(-12.84375, -12)" class="label"><foreignObject height="24" width="25.6875"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Fail</p></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div class="labelBkg" xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(221.734375, 35)" id="flowchart-A-0" class="node default"><rect height="54" width="176.125" y="-27" x="-88.0625" style="" class="basic label-container"></rect><g transform="translate(-58.0625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="116.125"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Start: Input Text</p></span></div></foreignObject></g></g><g transform="translate(221.734375, 230.7890625)" id="flowchart-B-1" class="node default"><polygon transform="translate(-118.7890625,118.7890625)" class="label-container" points="118.7890625,0 237.578125,-118.7890625 118.7890625,-237.578125 0,-118.7890625"></polygon><g transform="translate(-91.7890625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="183.578125"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Word count â‰¤ max_words?</p></span></div></foreignObject></g></g><g transform="translate(101.8984375, 450.578125)" id="flowchart-C-3" class="node default"><rect height="54" width="187.796875" y="-27" x="-93.8984375" style="" class="basic label-container"></rect><g transform="translate(-63.8984375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="127.796875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Return as one line</p></span></div></foreignObject></g></g><g transform="translate(341.5703125, 450.578125)" id="flowchart-D-5" class="node default"><rect height="54" width="191.546875" y="-27" x="-95.7734375" style="" class="basic label-container"></rect><g transform="translate(-65.7734375, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="131.546875"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Try split at comma</p></span></div></foreignObject></g></g><g transform="translate(341.5703125, 998.578125)" id="flowchart-E-7" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Recursive split on both parts</p></span></div></foreignObject></g></g><g transform="translate(423.5546875, 578.578125)" id="flowchart-F-9" class="node default"><rect height="54" width="257.9375" y="-27" x="-128.96875" style="" class="basic label-container"></rect><g transform="translate(-98.96875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="197.9375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Try split at 'ou', 'et', 'mais'...</p></span></div></foreignObject></g></g><g transform="translate(506.0546875, 718.578125)" id="flowchart-G-13" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Try split at main verb (ROOT)</p></span></div></foreignObject></g></g><g transform="translate(601.87109375, 870.578125)" id="flowchart-H-17" class="node default"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>Split at word count midpoint</p></span></div></foreignObject></g></g><g transform="translate(341.5703125, 1114.578125)" id="flowchart-I-21" class="node default"><rect height="54" width="180.859375" y="-27" x="-90.4296875" style="" class="basic label-container"></rect><g transform="translate(-60.4296875, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="120.859375"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>Return final lines</p></span></div></foreignObject></g></g></g></g></g></svg>